

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Documentation &mdash; xpdAcq 0.8.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="For Beamline Staff" href="beamlinestaff.html" />
    <link rel="prev" title="Using the Robot" href="robot.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> xpdAcq
          

          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xpdusers.html">For XPD Users</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#run-calibration-api-documentation">run_calibration API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xrun-api-documentation">xrun API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scanplan-api-documentation">ScanPlan API Documentation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="beamlinestaff.html">For Beamline Staff</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">xpdAcq Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">xpdAcq</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api_doc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="run-calibration-api-documentation">
<span id="calib-api"></span><h2>run_calibration API Documentation<a class="headerlink" href="#run-calibration-api-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="xpdacq.calib.run_calibration">
<code class="descclassname">xpdacq.calib.</code><code class="descname">run_calibration</code><span class="sig-paren">(</span><em>exposure=5</em>, <em>dark_sub_bool=True</em>, <em>calibrant=None</em>, <em>phase_info=None</em>, <em>wavelength=None</em>, <em>detector=None</em>, <em>*</em>, <em>RE_instance=None</em>, <em>parallel=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdacq.calib.run_calibration" title="Permalink to this definition">¶</a></dt>
<dd><p>function to run entire calibration process.</p>
<p>Entire process includes:</p>
<ol class="arabic simple">
<li>collect calibration image,</li>
<li>trigger pyFAI interactive calibration process,</li>
<li>store calibration parameters as a yaml file</li>
</ol>
<p>calibration parameters will be saved under xpdUser/config_base/
and this set of parameters will be injected as metadata to
subsequent scans until you perform this process again</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>exposure</strong> (<em>int</em><em>, </em><em>optional</em>) – total exposure time in sec. default is 5s</li>
<li><strong>dark_sub_bool</strong> (<em>bool</em><em>, </em><em>optional</em>) – option of turn on/off dark subtraction on this calibration
image. default is True.</li>
<li><strong>calibrant</strong> (<em>str</em><em>, </em><em>optional</em>) – calibrant being used, default is ‘Ni’.
input could be full file path to customized d-spacing file with
“.D” extension or one of pre-defined calibrant names.
List of pre-defined calibrant names is:
[‘NaCl’, ‘AgBh’, ‘quartz’, ‘Si_SRM640’, ‘Ni’, ‘Si_SRM640d’,
‘Si_SRM640a’, ‘alpha_Al2O3’, ‘LaB6_SRM660b’, ‘TiO2’, ‘CrOx’,
‘LaB6_SRM660c’, ‘CeO2’, ‘Si_SRM640c’, ‘CuO’, ‘Si_SRM640e’,
‘PBBA’, ‘ZnO’, ‘Si’, ‘C14H30O’, ‘cristobaltite’, ‘LaB6_SRM660a’,
‘Au’, ‘Cr2O3’, ‘Si_SRM640b’, ‘LaB6’, ‘Al’, ‘mock’]</li>
<li><strong>phase_info</strong> (<em>str</em><em>, </em><em>optional</em>) – phase infomation of calibrant, which is required to data
reduction process. This field will be parsed with the same logic
as the one used in parsing spreadsheet information. For detailed
information, please visit:
<a class="reference external" href="http://xpdacq.github.io/usb_Running.html#phase-string">http://xpdacq.github.io/usb_Running.html#phase-string</a>
If both <code class="docutils literal notranslate"><span class="pre">calibrant</span></code> and <code class="docutils literal notranslate"><span class="pre">phase_info</span></code> arguments are not provided,
this field will be defaulted to <code class="docutils literal notranslate"><span class="pre">Ni</span></code>.</li>
<li><strong>wavelength</strong> (<em>float</em><em>, </em><em>optional</em>) – x-ray wavelength in angstrom. default to value stored in
existing Beamtime object</li>
<li><strong>detector</strong> (<em>str</em><em> or </em><em>pyFAI.detector.Detector instance</em><em>, </em><em>optional.</em>) – detector used to collect data. default value is ‘perkin-elmer’.
other allowed values are in pyFAI documentation.</li>
<li><strong>RE_instance</strong> (<em>bluesky.run_engine.RunEngine instance</em><em>, </em><em>optional</em>) – instance of run engine. Default is xrun. Do not change under
normal circumstances.</li>
<li><strong>parallel</strong> (<em>bool</em><em>, </em><em>optional</em>) – Tag for whether run the calibration step in a separte
process. Running in parallel in principle yields better resource
allocation. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>, only change to <code class="docutils literal notranslate"><span class="pre">False</span></code> if
error is raised.</li>
<li><strong>kwargs</strong> – Additional keyword argument for calibration. please refer to
pyFAI documentation for all options.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Details about peak-picking gui from pyFAI documentaion</p>
<blockquote class="last">
<div><a class="reference external" href="http://pyfai.readthedocs.io/en/latest/usage/cookbook/calibrate.html#start-pyfai-calibration_md">http://pyfai.readthedocs.io/en/latest/usage/cookbook/calibrate.html#start-pyfai-calibration_md</a></div></blockquote>
</div>
</dd></dl>

</div>
<div class="section" id="xrun-api-documentation">
<span id="xrun-api"></span><h2>xrun API Documentation<a class="headerlink" href="#xrun-api-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="xpdacq.xpdacq.CustomizedRunEngine">
<em class="property">class </em><code class="descclassname">xpdacq.xpdacq.</code><code class="descname">CustomizedRunEngine</code><span class="sig-paren">(</span><em>beamtime</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdacq.xpdacq.CustomizedRunEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>A RunEngine customized for XPD workflows.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>beamtime</strong> (<em>xpdacq.beamtime.Beamtime</em><em> or </em><em>None</em>) – beamtime object that will be linked to. This beamtime object
provide reference of sample and scanplan indicies. If no
beamtime object is linked, index-based syntax will not be allowed.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="xpdacq.xpdacq.CustomizedRunEngine.beamtime">
<code class="descname">beamtime</code><a class="headerlink" href="#xpdacq.xpdacq.CustomizedRunEngine.beamtime" title="Permalink to this definition">¶</a></dt>
<dd><p>beamtime object currently associated with this RunEngine instance.</p>
</dd></dl>

<p class="rubric">Examples</p>
<p>Basic usage: run samples and plans by number</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xrun</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Advanced usage: use custom plan which is compatible with bluesky</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xrun</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">custom_plan</span><span class="p">)</span>  <span class="c1"># sample 3, an arbitrary bluesky plan</span>
</pre></div>
</div>
<p>Or custom sample info. sample just has to be dict-like
and contain the required keys.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xrun</span><span class="p">(</span><span class="n">custom_sample_dict</span><span class="p">,</span> <span class="n">custom_plan</span><span class="p">)</span>
</pre></div>
</div>
<p>Or use completely custom dark frame logic</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xrun</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">custom_plan</span><span class="p">,</span> <span class="n">dark_strategy</span><span class="o">=</span><span class="n">some_custom_func</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="xpdacq.xpdacq.CustomizedRunEngine.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>sample</em>, <em>plan</em>, <em>subs=None</em>, <em>*</em>, <em>verify_write=False</em>, <em>dark_strategy=&lt;function periodic_dark&gt;</em>, <em>robot=False</em>, <em>**metadata_kw</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdacq.xpdacq.CustomizedRunEngine.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a plan</p>
<p>Any keyword arguments other than those listed below will
be interpreted as metadata and recorded with the run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sample</strong> (<em>int</em><em> or </em><em>dict-like</em><em> or </em><em>list of int</em><em> or </em><em>dict-like</em>) – Sample metadata. If a beamtime object is linked,
an integer will be interpreted as the index appears in the
<code class="docutils literal notranslate"><span class="pre">bt.list()</span></code> method, corresponding metadata will be passed.
A customized dict can also be passed as the sample
metadata.</li>
<li><strong>plan</strong> (<em>int</em><em> or </em><em>generator</em><em> or </em><em>list of int</em><em> or </em><em>generator</em>) – Scan plan. If a beamtime object is linked, an integer
will be interpreted as the index appears in the
<code class="docutils literal notranslate"><span class="pre">bt.list()</span></code> method, corresponding scan plan will be
A generator or that yields <code class="docutils literal notranslate"><span class="pre">Msg</span></code> objects (or an iterable
that returns such a generator) can also be passed.</li>
<li><strong>subs</strong> (<em>callable</em><em>, </em><em>list</em><em>, or </em><em>dict</em><em>, </em><em>optional</em>) – <p>Temporary subscriptions (a.k.a. callbacks) to be used on
this run. Default to None. For convenience, any of the
following are accepted:</p>
<ul>
<li>a callable, which will be subscribed to ‘all’</li>
<li>a list of callables, which again will be subscribed to ‘all’</li>
<li>a dictionary, mapping specific subscriptions to callables or
lists of callables; valid keys are {‘all’, ‘start’, ‘stop’,
‘event’, ‘descriptor’}</li>
</ul>
</li>
<li><strong>verify_write</strong> (<em>bool</em><em>, </em><em>optional</em>) – Double check if the data have been written into database.
In general data is written in a lossless fashion at the
NSLS-II. Therefore, False by default.</li>
<li><strong>dark_strategy</strong> (<em>callable</em><em>, </em><em>optional.</em>) – Protocol of taking dark frame during experiment. Default
to the logic of matching dark frame and light frame with
the sample exposure time and frame rate. Details can be
found at <code class="docutils literal notranslate"><span class="pre">http://xpdacq.github.io/xpdAcq/usb_Running.html#automated-dark-collection</span></code></li>
<li><strong>robot</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true run the scan as a robot scan, defaults to False</li>
<li><strong>metadata_kw</strong> – Extra keyword arguments for specifying metadata in the
run time. If the extra metdata has the same key as the
<code class="docutils literal notranslate"><span class="pre">sample</span></code>, <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> will be raised.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>uids</strong> – list of uids (i.e. RunStart Document uids) of run(s)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="scanplan-api-documentation">
<span id="scanplan-api"></span><h2>ScanPlan API Documentation<a class="headerlink" href="#scanplan-api-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="xpdacq.beamtime.ct">
<code class="descclassname">xpdacq.beamtime.</code><code class="descname">ct</code><span class="sig-paren">(</span><em>dets</em>, <em>exposure</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdacq.beamtime.ct" title="Permalink to this definition">¶</a></dt>
<dd><p>Take one reading from area detector with given exposure time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dets</strong> (<em>list</em>) – list of ‘readable’ objects. default to area detector
linked to xpdAcq.</li>
<li><strong>exposure</strong> (<em>float</em>) – total time of exposrue in seconds</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>area detector being triggered will  always be the one configured
in global state. To find out which these are, please using
following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xpd_configuration</span><span class="p">[</span><span class="s1">&#39;area_det&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>to see which device is being linked</p>
</dd></dl>

<dl class="function">
<dt id="xpdacq.beamtime.Tramp">
<code class="descclassname">xpdacq.beamtime.</code><code class="descname">Tramp</code><span class="sig-paren">(</span><em>dets</em>, <em>exposure</em>, <em>Tstart</em>, <em>Tstop</em>, <em>Tstep</em>, <em>*</em>, <em>per_step=&lt;function _shutter_step&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdacq.beamtime.Tramp" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect data over a range of temperatures</p>
<p>This plan sets the sample temperature using a temp_controller device
and exposes a detector for a set time at each temperature.
It also has logic for equilibrating the temperature before each
acquisition. By default it closes the fast shutter at XPD in between
exposures. This behavior may be overridden, leaving the fast shutter
open for the entire scan. Please see below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dets</strong> (<em>list</em>) – list of ‘readable’ objects. default to the temperature
controller and area detector linked to xpdAcq.</li>
<li><strong>exposure</strong> (<em>float</em>) – exposure time at each temperature step in seconds.</li>
<li><strong>Tstart</strong> (<em>float</em>) – starting point of temperature sequence.</li>
<li><strong>Tstop</strong> (<em>float</em>) – stoping point of temperature sequence.</li>
<li><strong>Tstep</strong> (<em>float</em>) – step size between Tstart and Tstop of this sequence.</li>
<li><strong>per_step</strong> (<em>callable</em><em>, </em><em>optional</em>) – <p>hook for customizing action at each temperature point.
Tramp uses this for opening and closing the shutter at each
temperature acquisition.</p>
<p>Default behavior:
`` open shutter - collect data - close shutter ``</p>
<p>To make shutter always open during the temperature ramp,
pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to this argument. See <code class="docutils literal notranslate"><span class="pre">Notes</span></code> below for more
detailed information.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>1. To see which area detector and temperature controller
will be used, type the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xpd_configuration</span><span class="p">[</span><span class="s1">&#39;area_det&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xpd_configuration</span><span class="p">[</span><span class="s1">&#39;temp_controller&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>2. To change the default behavior to shutter-always-open,
please pass the argument for <code class="docutils literal notranslate"><span class="pre">per_step</span></code> in the <code class="docutils literal notranslate"><span class="pre">ScanPlan</span></code>
definition, as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ScanPlan</span><span class="p">(</span><span class="n">bt</span><span class="p">,</span> <span class="n">Tramp</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">per_step</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>This will create a <code class="docutils literal notranslate"><span class="pre">Tramp</span></code> ScanPlan, with shutter always
open during the ramping.</p>
</dd></dl>

<dl class="function">
<dt id="xpdacq.beamtime.Tlist">
<code class="descclassname">xpdacq.beamtime.</code><code class="descname">Tlist</code><span class="sig-paren">(</span><em>dets</em>, <em>exposure</em>, <em>T_list</em>, <em>*</em>, <em>per_step=&lt;function _shutter_step&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdacq.beamtime.Tlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect data over a list of user-specific temperatures</p>
<p>This plan sets the sample temperature using a temp_controller device
and exposes a detector for a set time at each temperature.
It also has logic for equilibrating the temperature before each
acquisition. By default it closes the fast shutter at XPD in between
exposures. This behavior may be overridden, leaving the fast shutter
open for the entire scan. Please see below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dets</strong> (<em>list</em>) – list of ‘readable’ objects. default to the temperature
controller and area detector linked to xpdAcq.</li>
<li><strong>exposure</strong> (<em>float</em>) – total time of exposure in seconds</li>
<li><strong>T_list</strong> (<em>list</em>) – a list of temperatures where a scan will be run</li>
<li><strong>per_step</strong> (<em>callable</em><em>, </em><em>optional</em>) – <p>hook for customizing action at each temperature point.
Tramp uses this for opening and closing the shutter at each
temperature acquisition.</p>
<p>Default behavior:
`` open shutter - collect data - close shutter ``</p>
<p>To make shutter always open during the temperature ramp,
pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to this argument. See <code class="docutils literal notranslate"><span class="pre">Notes</span></code> below for more
detailed information.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>1. To see which area detector and temperature controller
will be used, type the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xpd_configuration</span><span class="p">[</span><span class="s1">&#39;area_det&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xpd_configuration</span><span class="p">[</span><span class="s1">&#39;temp_controller&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>2. To change the default behavior to shutter-always-open,
please pass the argument for <code class="docutils literal notranslate"><span class="pre">per_step</span></code> in the <code class="docutils literal notranslate"><span class="pre">ScanPlan</span></code>
definition, as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ScanPlan</span><span class="p">(</span><span class="n">bt</span><span class="p">,</span> <span class="n">Tlist</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">198</span><span class="p">],</span> <span class="n">per_step</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>This will create a <code class="docutils literal notranslate"><span class="pre">Tlist</span></code> ScanPlan, with shutter always
open during the ramping.</p>
</dd></dl>

<dl class="function">
<dt id="xpdacq.beamtime.tseries">
<code class="descclassname">xpdacq.beamtime.</code><code class="descname">tseries</code><span class="sig-paren">(</span><em>dets</em>, <em>exposure</em>, <em>delay</em>, <em>num</em>, <em>auto_shutter=True</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdacq.beamtime.tseries" title="Permalink to this definition">¶</a></dt>
<dd><p>time series scan with area detector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dets</strong> (<em>list</em>) – list of ‘readable’ objects. default to area detector
linked to xpdAcq.</li>
<li><strong>exposure</strong> (<em>float</em>) – exposure time at each reading from area detector in seconds</li>
<li><strong>delay</strong> (<em>float</em>) – delay between two consecutive readings from area detector in seconds</li>
<li><strong>num</strong> (<em>int</em>) – total number of readings</li>
<li><strong>auto_shutter</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>Option on whether delegates shutter control to <code class="docutils literal notranslate"><span class="pre">xpdAcq</span></code>. If True,
following behavior will take place:</p>
<p>`` open shutter - collect data - close shutter ``</p>
<p>To make shutter stay open during <code class="docutils literal notranslate"><span class="pre">tseries</span></code> scan,
pass <code class="docutils literal notranslate"><span class="pre">False</span></code> to this argument. See <code class="docutils literal notranslate"><span class="pre">Notes</span></code> below for more
detailed information.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>To see which area detector and shutter will be used, type the
following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xpd_configuration</span><span class="p">[</span><span class="s1">&#39;area_det&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xpd_configuration</span><span class="p">[</span><span class="s1">&#39;shutter&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>To override default behavior and keep the shutter open throughout
scan , create ScanPlan with following syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ScanPlan</span><span class="p">(</span><span class="n">bt</span><span class="p">,</span> <span class="n">tseries</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="beamlinestaff.html" class="btn btn-neutral float-right" title="For Beamline Staff" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="robot.html" class="btn btn-neutral" title="Using the Robot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (c) 2016 trustees of Columbia University in the City of New York

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>